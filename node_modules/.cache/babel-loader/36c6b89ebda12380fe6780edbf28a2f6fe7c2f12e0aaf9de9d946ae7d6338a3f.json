{"ast":null,"code":"import _objectSpread from\"/Users/pascal/workspace/plan_de_charge/front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{API_BASE_URL}from'../apiConfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminManageTeams=_ref=>{let{teams,setTeams,selectedManagerIds,setSelectedManagerIds,newTeamName,setNewTeamName}=_ref;const[users,setUsers]=useState([]);useEffect(()=>{const token=localStorage.getItem('jwtToken');if(token){// Fetch users\nfetch(\"\".concat(API_BASE_URL,\"/api/persons\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(response=>response.json()).then(userData=>{setUsers(userData);}).catch(error=>{console.error('Error fetching users:',error);});}},[]);const handleDeleteTeam=(id,teamName)=>{const isConfirmed=window.confirm(\"Are you sure you want to delete the team \\\"\".concat(teamName,\"\\\"?\"));if(isConfirmed){const token=localStorage.getItem('jwtToken');if(token){fetch(\"\".concat(API_BASE_URL,\"/api/teams/\").concat(id),{method:'DELETE',headers:{Authorization:\"Bearer \".concat(token)}}).then(response=>{if(response.ok){setTeams(teams.filter(team=>team.id_team!==id));}else{// No alert for error\n}}).catch(error=>{console.error('Error deleting team:',error);// No alert for error\n});}}};const handleDeleteManager=(managerId,teamId,managerName,managerFirstname)=>{const isConfirmed=window.confirm(\"Are you sure you want to delete \".concat(managerFirstname,\" \").concat(managerName,\" from the team?\"));if(isConfirmed){const token=localStorage.getItem('jwtToken');if(token){fetch(\"\".concat(API_BASE_URL,\"/api/teams/\").concat(teamId,\"/managers/\").concat(managerId),{method:'DELETE',headers:{Authorization:\"Bearer \".concat(token)}}).then(response=>{if(response.ok){// Update the state to remove the manager from the team\nsetTeams(prevTeams=>prevTeams.map(team=>{var _team$managers;return team.id_team===teamId?_objectSpread(_objectSpread({},team),{},{managers:((_team$managers=team.managers)===null||_team$managers===void 0?void 0:_team$managers.filter(manager=>manager.id_pers!==managerId))||[]}):team;}));}else{// No alert for error\n}}).catch(error=>{console.error('Error removing manager:',error);// No alert for error\n});}}};const handleAddManager=(teamId,managerId)=>{const token=localStorage.getItem('jwtToken');if(token){fetch(\"\".concat(API_BASE_URL,\"/api/teams/\").concat(teamId,\"/managers\"),{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({managerId})}).then(response=>{if(response.ok){// Update the state to add the manager to the team\nsetTeams(prevTeams=>prevTeams.map(team=>{var _users$find,_users$find2;return team.id_team===teamId?_objectSpread(_objectSpread({},team),{},{managers:[...(team.managers||[]),{id_pers:managerId,name:((_users$find=users.find(user=>user.id_pers===managerId))===null||_users$find===void 0?void 0:_users$find.name)||'',firstname:((_users$find2=users.find(user=>user.id_pers===managerId))===null||_users$find2===void 0?void 0:_users$find2.firstname)||'',id_team:teamId}]}):team;}));// Reset the selected manager for this team\nsetSelectedManagerIds(prevState=>_objectSpread(_objectSpread({},prevState),{},{[teamId]:null}));// Refresh the users list after adding a manager\nfetch(\"\".concat(API_BASE_URL,\"/api/persons\"),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('jwtToken'))}}).then(response=>response.json()).then(userData=>{setUsers(userData);}).catch(error=>{console.error('Error fetching users:',error);});}else{// No alert for error\n}}).catch(error=>{console.error('Error adding manager:',error);// No alert for error\n});}};console.log(\"debug:: Liste des utilisateurs (users) :\",users);console.log(\"debug:: Liste des teams (teams) :\",teams);return/*#__PURE__*/_jsxs(\"div\",{className:\"teams-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Teams\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"teams-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"teams-list\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Team ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Team Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Managers\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:teams.sort((a,b)=>a.team.localeCompare(b.team)).map(team=>{var _selectedManagerIds$t;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:team.id_team}),/*#__PURE__*/_jsx(\"td\",{children:team.team}),/*#__PURE__*/_jsxs(\"td\",{children:[team.managers&&team.managers.length>0?team.managers.sort((a,b)=>a.name.localeCompare(b.name)).map(manager=>/*#__PURE__*/_jsxs(\"div\",{className:\"manager-container\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[manager.name,\" \",manager.firstname,\" (ID: \",manager.id_pers,\")\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"common-add-button\",onClick:()=>handleDeleteManager(manager.id_pers,manager.id_team,manager.name,manager.firstname),children:\"Remove\"})]},manager.id_pers)):'No managers',/*#__PURE__*/_jsxs(\"div\",{className:\"manager-container\",children:[/*#__PURE__*/_jsxs(\"select\",{value:(_selectedManagerIds$t=selectedManagerIds[team.id_team])!==null&&_selectedManagerIds$t!==void 0?_selectedManagerIds$t:'',onChange:e=>setSelectedManagerIds(prevState=>_objectSpread(_objectSpread({},prevState),{},{[team.id_team]:e.target.value?Number(e.target.value):null})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a manager\"}),[...users]// copie du tableau\n.filter(user=>{var _team$managers2;return!((_team$managers2=team.managers)!==null&&_team$managers2!==void 0&&_team$managers2.some(manager=>manager.id_pers===user.id_pers));}).sort((a,b)=>a.name.localeCompare(b.name)).map(user=>/*#__PURE__*/_jsxs(\"option\",{value:user.id_pers,children:[user.name,\" \",user.firstname,\" (ID: \",user.id_pers,\")\"]},user.id_pers))]}),/*#__PURE__*/_jsx(\"button\",{className:\"manager-add-button\",onClick:()=>{const managerId=selectedManagerIds[team.id_team];if(managerId!==null&&managerId!==undefined){handleAddManager(team.id_team,managerId);}},disabled:selectedManagerIds[team.id_team]===null||selectedManagerIds[team.id_team]===undefined,children:\"Add Manager\"})]})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"manager-delete-button\",onClick:()=>handleDeleteTeam(team.id_team,team.team),children:\"Remove\"})})]},team.id_team);})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"teams-add\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Team Name\",value:newTeamName,onChange:e=>setNewTeamName(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const token=localStorage.getItem('jwtToken');if(token&&newTeamName){fetch(\"\".concat(API_BASE_URL,\"/api/teams\"),{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({team:newTeamName})}).then(response=>{if(response.ok){// Refresh the page after adding a new team\nwindow.location.reload();}else{alert('Error adding team');}}).catch(error=>{console.error('Error adding team:',error);alert('Error adding team');});}},disabled:!newTeamName,children:\"Add Team\"})]})]})]});};export default AdminManageTeams;","map":{"version":3,"names":["React","useEffect","useState","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","AdminManageTeams","_ref","teams","setTeams","selectedManagerIds","setSelectedManagerIds","newTeamName","setNewTeamName","users","setUsers","token","localStorage","getItem","fetch","concat","headers","Authorization","then","response","json","userData","catch","error","console","handleDeleteTeam","id","teamName","isConfirmed","window","confirm","method","ok","filter","team","id_team","handleDeleteManager","managerId","teamId","managerName","managerFirstname","prevTeams","map","_team$managers","_objectSpread","managers","manager","id_pers","handleAddManager","body","JSON","stringify","_users$find","_users$find2","name","find","user","firstname","prevState","log","className","children","sort","a","b","localeCompare","_selectedManagerIds$t","length","onClick","value","onChange","e","target","Number","_team$managers2","some","undefined","disabled","type","placeholder","location","reload","alert"],"sources":["/Users/pascal/workspace/plan_de_charge/front/src/components/Admin_manage_teams.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { API_BASE_URL } from '../apiConfig';\n\ninterface Team {\n  id_team: number;\n  team: string;\n  managers?: TeamManager[];\n}\n\ninterface TeamManager {\n  id_pers: number;\n  name: string;\n  firstname: string;\n  id_team: number;\n}\n\ninterface User {\n  id_pers: number;\n  name: string;\n  firstname: string;\n}\n\ninterface AdminManageTeamsProps {\n  teams: Team[];\n  setTeams: React.Dispatch<React.SetStateAction<Team[]>>;\n  selectedManagerIds: { [teamId: number]: number | null };\n  setSelectedManagerIds: React.Dispatch<React.SetStateAction<{ [teamId: number]: number | null }>>;\n  newTeamName: string;\n  setNewTeamName: React.Dispatch<React.SetStateAction<string>>;\n}\n\nconst AdminManageTeams: React.FC<AdminManageTeamsProps> = ({\n  teams,\n  setTeams,\n  selectedManagerIds,\n  setSelectedManagerIds,\n  newTeamName,\n  setNewTeamName\n}) => {\n  const [users, setUsers] = useState<User[]>([]);\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwtToken');\n    if (token) {\n      // Fetch users\n      fetch(`${API_BASE_URL}/api/persons`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then(response => response.json())\n        .then(userData => {\n          setUsers(userData);\n        })\n        .catch(error => {\n          console.error('Error fetching users:', error);\n        });\n    }\n  }, []);\n\n\n  const handleDeleteTeam = (id: number, teamName: string) => {\n    const isConfirmed = window.confirm(`Are you sure you want to delete the team \"${teamName}\"?`);\n    if (isConfirmed) {\n      const token = localStorage.getItem('jwtToken');\n      if (token) {\n        fetch(`${API_BASE_URL}/api/teams/${id}`, {\n          method: 'DELETE',\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n          .then(response => {\n            if (response.ok) {\n              setTeams(teams.filter(team => team.id_team !== id));\n            } else {\n              // No alert for error\n            }\n          })\n          .catch(error => {\n            console.error('Error deleting team:', error);\n            // No alert for error\n          });\n      }\n    }\n  };\n\n  const handleDeleteManager = (managerId: number, teamId: number, managerName: string, managerFirstname: string) => {\n    const isConfirmed = window.confirm(`Are you sure you want to delete ${managerFirstname} ${managerName} from the team?`);\n    if (isConfirmed) {\n      const token = localStorage.getItem('jwtToken');\n      if (token) {\n        fetch(`${API_BASE_URL}/api/teams/${teamId}/managers/${managerId}`, {\n          method: 'DELETE',\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n          .then(response => {\n            if (response.ok) {\n              // Update the state to remove the manager from the team\n              setTeams(prevTeams =>\n                prevTeams.map(team =>\n                  team.id_team === teamId\n                    ? {\n                        ...team,\n                        managers: team.managers?.filter(manager => manager.id_pers !== managerId) || [],\n                      }\n                    : team\n                )\n              );\n            } else {\n              // No alert for error\n            }\n          })\n          .catch(error => {\n            console.error('Error removing manager:', error);\n            // No alert for error\n          });\n      }\n    }\n  };\n\n  const handleAddManager = (teamId: number, managerId: number) => {\n    const token = localStorage.getItem('jwtToken');\n    if (token) {\n      fetch(`${API_BASE_URL}/api/teams/${teamId}/managers`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ managerId }),\n      })\n        .then(response => {\n          if (response.ok) {\n            // Update the state to add the manager to the team\n            setTeams(prevTeams =>\n              prevTeams.map(team =>\n                team.id_team === teamId\n                  ? {\n                      ...team,\n                      managers: [\n                        ...(team.managers || []),\n                        {\n                          id_pers: managerId,\n                          name: users.find(user => user.id_pers === managerId)?.name || '',\n                          firstname: users.find(user => user.id_pers === managerId)?.firstname || '',\n                          id_team: teamId,\n                        },\n                      ],\n                    }\n                  : team\n              )\n            );\n            // Reset the selected manager for this team\n            setSelectedManagerIds(prevState => ({\n              ...prevState,\n              [teamId]: null\n            }));\n\n            // Refresh the users list after adding a manager\n            fetch(`${API_BASE_URL}/api/persons`, {\n              headers: {\n                Authorization: `Bearer ${localStorage.getItem('jwtToken')}`,\n              },\n            })\n              .then(response => response.json())\n              .then(userData => {\n                setUsers(userData);\n              })\n              .catch(error => {\n                console.error('Error fetching users:', error);\n              });\n          } else {\n            // No alert for error\n          }\n        })\n        .catch(error => {\n          console.error('Error adding manager:', error);\n          // No alert for error\n        });\n    }\n  };\nconsole.log(\"debug:: Liste des utilisateurs (users) :\", users);\nconsole.log(\"debug:: Liste des teams (teams) :\", teams);\n\n  return (\n    <div className=\"teams-section\">\n      <h2>Teams</h2>\n      <div className=\"teams-content\">\n        <div className=\"teams-list\">\n          <table>\n            <thead>\n            <tr>\n              <th>Team ID</th>\n              <th>Team Name</th>\n              <th>Managers</th>\n              <th>Actions</th>\n            </tr>\n            </thead>\n            <tbody>\n              {teams\n                .sort((a, b) => a.team.localeCompare(b.team))\n                .map(team => (\n                  <tr key={team.id_team}>\n                    <td>{team.id_team}</td>\n                    <td>{team.team}</td>\n                    <td>\n                    {team.managers && team.managers.length > 0 ? (\n                      team.managers\n                        .sort((a, b) => a.name.localeCompare(b.name))\n                        .map((manager: TeamManager) => (\n                          <div key={manager.id_pers} className=\"manager-container\">\n                            <span>{manager.name} {manager.firstname} (ID: {manager.id_pers})</span>\n                            <button className=\"common-add-button\" onClick={() => handleDeleteManager(manager.id_pers, manager.id_team, manager.name, manager.firstname)}>Remove</button>\n                          </div>\n                        ))\n                    ) : (\n                      'No managers'\n                    )\n                    }\n                    <div className=\"manager-container\">\n                    {/* Select pour ajouter un manager */}\n                    <select\n                      value={selectedManagerIds[team.id_team] ?? ''}\n                      onChange={(e) =>\n                        setSelectedManagerIds(prevState => ({\n                          ...prevState,\n                          [team.id_team]: e.target.value ? Number(e.target.value) : null\n                        }))\n                      }\n                    >\n                      <option value=\"\">Select a manager</option>\n                      {[...users]  // copie du tableau\n                        .filter(user => !team.managers?.some(manager => manager.id_pers === user.id_pers))\n                        .sort((a, b) => a.name.localeCompare(b.name))\n                        .map(user => (\n                          <option key={user.id_pers} value={user.id_pers}>\n                            {user.name} {user.firstname} (ID: {user.id_pers})\n                          </option>\n                        ))}\n                    </select>\n                    <button\n                      className=\"manager-add-button\"\n                      onClick={() => {\n                        const managerId = selectedManagerIds[team.id_team];\n                        if (managerId !== null && managerId !== undefined) {\n                          handleAddManager(team.id_team, managerId);\n                        }\n                      }}\n                      disabled={selectedManagerIds[team.id_team] === null || selectedManagerIds[team.id_team] === undefined}\n                    >\n                      Add Manager\n                    </button>\n                    </div>\n                    </td>\n                    <td>\n                      <button className=\"manager-delete-button\" onClick={() => handleDeleteTeam(team.id_team, team.team)}>Remove</button>\n                    </td>\n                  </tr>\n                ))}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"teams-add\">\n          <input\n            type=\"text\"\n            placeholder=\"Team Name\"\n            value={newTeamName}\n            onChange={(e) => setNewTeamName(e.target.value)}\n          />\n          <button\n            onClick={() => {\n              const token = localStorage.getItem('jwtToken');\n              if (token && newTeamName) {\n                fetch(`${API_BASE_URL}/api/teams`, {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    Authorization: `Bearer ${token}`,\n                  },\n                  body: JSON.stringify({ team: newTeamName }),\n                })\n              .then(response => {\n                if (response.ok) {\n                  // Refresh the page after adding a new team\n                  window.location.reload();\n                } else {\n                  alert('Error adding team');\n                }\n              })\n              .catch(error => {\n                console.error('Error adding team:', error);\n                alert('Error adding team');\n              });\n            }\n          }}\n          disabled={!newTeamName}\n        >\n          Add Team\n        </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminManageTeams;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}