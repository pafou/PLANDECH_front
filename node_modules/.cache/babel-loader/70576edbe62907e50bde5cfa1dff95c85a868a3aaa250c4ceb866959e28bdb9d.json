{"ast":null,"code":"/**\n * Convertit une date ISO (ex : \"2022-08-31T22:00:00.000Z\")\n * vers le format \"MM YY\" (ex : \"09 22\")\n */\nexport function isoToMMYY(isoDate) {\n  const d = new Date(isoDate);\n  const month = String(d.getMonth() + 1).padStart(2, \"0\");\n  const year = String(d.getFullYear()).slice(-2);\n  return `${month} ${year}`;\n}\n\n/**\n * Convertit un format \"MM YY\" vers ISO (ex : \"09 22\"),\n * en générant un ISO correspondant au 1er du mois\n * -> \"2022-09-01T00:00:00.000Z\"\n */\nexport function mmYYToISO(mmYY) {\n  const [mmRaw, yyRaw] = mmYY.trim().split(\" \");\n  const month = Number(mmRaw);\n  const yy = Number(yyRaw);\n  if (!Number.isInteger(month) || month < 1 || month > 12) {\n    throw new Error(`Mois invalide: \"${mmRaw}\"`);\n  }\n  if (!Number.isInteger(yy) || yy < 0 || yy > 99) {\n    throw new Error(`Année invalide (format \"YY\" attendu): \"${yyRaw}\"`);\n  }\n  const fullYear = 2000 + yy; // \"22\" → 2022\n\n  // Crée la date au début du mois en HEURE LOCALE\n  const localMidnight = new Date(fullYear, month - 1, 1, 0, 0, 0, 0);\n\n  // toISOString() renvoie l'heure en UTC; avec le décalage local,\n  // on obtient \"2022-08-31T22:00:00.000Z\" pour \"09 22\" en CEST.\n  return localMidnight.toISOString();\n}\n\n/**\n * Convertit un objet Date en \"MM YY\"\n */\nexport function dateToMMYY(date) {\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const year = String(date.getFullYear()).slice(-2);\n  return `${month} ${year}`;\n}\n\n/**\n * Convertit \"MM YY\" en objet Date (1er du mois)\n */\nexport function mmYYToDate(mmYY) {\n  const [month, year] = mmYY.split(\" \");\n  return new Date(Number(\"20\" + year), Number(month) - 1, 1);\n}","map":{"version":3,"names":["isoToMMYY","isoDate","d","Date","month","String","getMonth","padStart","year","getFullYear","slice","mmYYToISO","mmYY","mmRaw","yyRaw","trim","split","Number","yy","isInteger","Error","fullYear","localMidnight","toISOString","dateToMMYY","date","mmYYToDate"],"sources":["/Users/pascal/workspace/plan_de_charge/front/src/utils/dateUtils.tsx"],"sourcesContent":["/**\n * Convertit une date ISO (ex : \"2022-08-31T22:00:00.000Z\")\n * vers le format \"MM YY\" (ex : \"09 22\")\n */\nexport function isoToMMYY(isoDate: string): string {\n  const d = new Date(isoDate);\n  const month = String(d.getMonth() + 1).padStart(2, \"0\");\n  const year = String(d.getFullYear()).slice(-2);\n  return `${month} ${year}`;\n}\n\n/**\n * Convertit un format \"MM YY\" vers ISO (ex : \"09 22\"),\n * en générant un ISO correspondant au 1er du mois\n * -> \"2022-09-01T00:00:00.000Z\"\n */\nexport function mmYYToISO(mmYY: string): string {\n  const [mmRaw, yyRaw] = mmYY.trim().split(\" \");\n  const month = Number(mmRaw);\n  const yy = Number(yyRaw);\n\n  if (!Number.isInteger(month) || month < 1 || month > 12) {\n    throw new Error(`Mois invalide: \"${mmRaw}\"`);\n  }\n  if (!Number.isInteger(yy) || yy < 0 || yy > 99) {\n    throw new Error(`Année invalide (format \"YY\" attendu): \"${yyRaw}\"`);\n  }\n\n  const fullYear = 2000 + yy; // \"22\" → 2022\n\n  // Crée la date au début du mois en HEURE LOCALE\n  const localMidnight = new Date(fullYear, month - 1, 1, 0, 0, 0, 0);\n\n  // toISOString() renvoie l'heure en UTC; avec le décalage local,\n  // on obtient \"2022-08-31T22:00:00.000Z\" pour \"09 22\" en CEST.\n  return localMidnight.toISOString();\n}\n\n/**\n * Convertit un objet Date en \"MM YY\"\n */\nexport function dateToMMYY(date: Date): string {\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const year = String(date.getFullYear()).slice(-2);\n  return `${month} ${year}`;\n}\n\n/**\n * Convertit \"MM YY\" en objet Date (1er du mois)\n */\nexport function mmYYToDate(mmYY: string): Date {\n  const [month, year] = mmYY.split(\" \");\n  return new Date(Number(\"20\" + year), Number(month) - 1, 1);\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAO,SAASA,SAASA,CAACC,OAAe,EAAU;EACjD,MAAMC,CAAC,GAAG,IAAIC,IAAI,CAACF,OAAO,CAAC;EAC3B,MAAMG,KAAK,GAAGC,MAAM,CAACH,CAAC,CAACI,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EACvD,MAAMC,IAAI,GAAGH,MAAM,CAACH,CAAC,CAACO,WAAW,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,GAAGN,KAAK,IAAII,IAAI,EAAE;AAC3B;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASG,SAASA,CAACC,IAAY,EAAU;EAC9C,MAAM,CAACC,KAAK,EAAEC,KAAK,CAAC,GAAGF,IAAI,CAACG,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC;EAC7C,MAAMZ,KAAK,GAAGa,MAAM,CAACJ,KAAK,CAAC;EAC3B,MAAMK,EAAE,GAAGD,MAAM,CAACH,KAAK,CAAC;EAExB,IAAI,CAACG,MAAM,CAACE,SAAS,CAACf,KAAK,CAAC,IAAIA,KAAK,GAAG,CAAC,IAAIA,KAAK,GAAG,EAAE,EAAE;IACvD,MAAM,IAAIgB,KAAK,CAAC,mBAAmBP,KAAK,GAAG,CAAC;EAC9C;EACA,IAAI,CAACI,MAAM,CAACE,SAAS,CAACD,EAAE,CAAC,IAAIA,EAAE,GAAG,CAAC,IAAIA,EAAE,GAAG,EAAE,EAAE;IAC9C,MAAM,IAAIE,KAAK,CAAC,0CAA0CN,KAAK,GAAG,CAAC;EACrE;EAEA,MAAMO,QAAQ,GAAG,IAAI,GAAGH,EAAE,CAAC,CAAC;;EAE5B;EACA,MAAMI,aAAa,GAAG,IAAInB,IAAI,CAACkB,QAAQ,EAAEjB,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;;EAElE;EACA;EACA,OAAOkB,aAAa,CAACC,WAAW,CAAC,CAAC;AACpC;;AAEA;AACA;AACA;AACA,OAAO,SAASC,UAAUA,CAACC,IAAU,EAAU;EAC7C,MAAMrB,KAAK,GAAGC,MAAM,CAACoB,IAAI,CAACnB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EAC1D,MAAMC,IAAI,GAAGH,MAAM,CAACoB,IAAI,CAAChB,WAAW,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EACjD,OAAO,GAAGN,KAAK,IAAII,IAAI,EAAE;AAC3B;;AAEA;AACA;AACA;AACA,OAAO,SAASkB,UAAUA,CAACd,IAAY,EAAQ;EAC7C,MAAM,CAACR,KAAK,EAAEI,IAAI,CAAC,GAAGI,IAAI,CAACI,KAAK,CAAC,GAAG,CAAC;EACrC,OAAO,IAAIb,IAAI,CAACc,MAAM,CAAC,IAAI,GAAGT,IAAI,CAAC,EAAES,MAAM,CAACb,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;AAC5D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}