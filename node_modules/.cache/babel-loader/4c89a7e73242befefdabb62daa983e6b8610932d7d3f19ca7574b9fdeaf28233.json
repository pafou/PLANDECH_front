{"ast":null,"code":"var _jsxFileName = \"/Users/pascal/workspace/plan_de_charge/front/src/components/Show.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { API_BASE_URL } from '../apiConfig';\nimport './Show.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Show() {\n  _s();\n  const [data, setData] = useState([]);\n  const [groupedData, setGroupedData] = useState([]);\n  const [months, setMonths] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [sortConfig, setSortConfig] = useState(null);\n  useEffect(() => {\n    fetch(`${API_BASE_URL}/api/data`).then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    }).then(data => {\n      setData(data);\n      processData(data);\n      setLoading(false);\n    }).catch(error => {\n      setError(error.message);\n      setLoading(false);\n    });\n  }, []);\n  const processData = data => {\n    const grouped = {};\n    const monthsSet = new Set();\n    data.forEach(item => {\n      const key = `${item.name}-${item.firstname}-${item.subject}-${item.comment || 'No comment'}`;\n      monthsSet.add(item.month);\n      if (!grouped[key]) {\n        grouped[key] = {\n          name: item.name,\n          firstname: item.firstname,\n          subject: item.subject,\n          comment: item.comment || 'No comment',\n          loads: {}\n        };\n      }\n      grouped[key].loads[item.month] = item.load;\n    });\n    setGroupedData(Object.values(grouped));\n    setMonths(Array.from(monthsSet).sort());\n  };\n  const requestSort = key => {\n    let direction = 'ascending';\n    if (sortConfig && sortConfig.key === key && sortConfig.direction === 'ascending') {\n      direction = 'descending';\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n  const sortedData = React.useMemo(() => {\n    if (!sortConfig) {\n      return groupedData;\n    }\n    return [...groupedData].sort((a, b) => {\n      if (sortConfig.key === 'name') {\n        if (a.name < b.name) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (a.name > b.name) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n      } else if (sortConfig.key === 'subject') {\n        if (a.subject < b.subject) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (a.subject > b.subject) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n      }\n      return 0;\n    });\n  }, [groupedData, sortConfig]);\n  const calculateSubtotals = (data, key) => {\n    const subtotals = {};\n    data.forEach(item => {\n      const value = key === 'name' ? item.name : item.subject;\n      if (!subtotals[value]) {\n        subtotals[value] = 0;\n      }\n      Object.values(item.loads).forEach(load => {\n        subtotals[value] += load;\n      });\n    });\n    return subtotals;\n  };\n  const calculateMonthlySubtotals = (data, key, months) => {\n    const monthlySubtotals = {};\n    data.forEach(item => {\n      const value = key === 'name' ? item.name : item.subject;\n      if (!monthlySubtotals[value]) {\n        monthlySubtotals[value] = {};\n        months.forEach(month => {\n          monthlySubtotals[value][month] = 0;\n        });\n      }\n      months.forEach(month => {\n        monthlySubtotals[value][month] += item.loads[month] || 0;\n      });\n    });\n    return monthlySubtotals;\n  };\n  const monthlySubtotals = React.useMemo(() => {\n    if (!sortConfig) {\n      return {};\n    }\n    return calculateMonthlySubtotals(sortedData, sortConfig.key, months);\n  }, [sortedData, sortConfig, months]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Show Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => requestSort('name'),\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Firstname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => requestSort('subject'),\n            children: \"Subject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), months.map(month => {\n            const date = new Date(month);\n            const monthStr = String(date.getMonth() + 1).padStart(2, '0');\n            const yearStr = String(date.getFullYear()).slice(-2);\n            return /*#__PURE__*/_jsxDEV(\"th\", {\n              children: `${monthStr}\\n${yearStr}`\n            }, month, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 10\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [sortedData.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.firstname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.subject\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this), months.map(month => /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.loads[month] || 0\n          }, month, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 17\n          }, this))]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)), sortConfig && /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: Object.keys(monthlySubtotals).map((key, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: sortConfig.key === 'name' ? 1 : 4,\n              style: {\n                fontWeight: 'bold'\n              },\n              children: sortConfig.key === 'name' ? key : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: sortConfig.key === 'name' ? 3 : 1,\n              style: {\n                fontWeight: 'bold'\n              },\n              children: sortConfig.key === 'subject' ? key : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 19\n            }, this), months.map((month, monthIndex) => /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              children: monthlySubtotals[key][month]\n            }, `subtotal-${index}-${monthIndex}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 21\n            }, this))]\n          }, `subtotal-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n}\n_s(Show, \"rMWhwHbjUUisd1N/yawuiXW60BM=\");\n_c = Show;\nexport default Show;\nvar _c;\n$RefreshReg$(_c, \"Show\");","map":{"version":3,"names":["React","useEffect","useState","API_BASE_URL","jsxDEV","_jsxDEV","Show","_s","data","setData","groupedData","setGroupedData","months","setMonths","loading","setLoading","error","setError","sortConfig","setSortConfig","fetch","then","response","ok","Error","json","processData","catch","message","grouped","monthsSet","Set","forEach","item","key","name","firstname","subject","comment","add","month","loads","load","Object","values","Array","from","sort","requestSort","direction","sortedData","useMemo","a","b","calculateSubtotals","subtotals","value","calculateMonthlySubtotals","monthlySubtotals","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","date","Date","monthStr","String","getMonth","padStart","yearStr","getFullYear","slice","index","Fragment","keys","colSpan","style","fontWeight","monthIndex","_c","$RefreshReg$"],"sources":["/Users/pascal/workspace/plan_de_charge/front/src/components/Show.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { API_BASE_URL } from '../apiConfig';\nimport './Show.css';\n\ninterface DataItem {\n  ID_pers: number;\n  name: string;\n  firstname: string;\n  subject: string;\n  comment?: string;\n  month: string;\n  load: number;\n}\n\ninterface GroupedData {\n  name: string;\n  firstname: string;\n  subject: string;\n  comment: string;\n  loads: { [key: string]: number };\n}\n\nfunction Show() {\n  const [data, setData] = useState<DataItem[]>([]);\n  const [groupedData, setGroupedData] = useState<GroupedData[]>([]);\n  const [months, setMonths] = useState<string[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [sortConfig, setSortConfig] = useState<{ key: string, direction: string } | null>(null);\n\n  useEffect(() => {\n    fetch(`${API_BASE_URL}/api/data`)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.json();\n      })\n      .then((data) => {\n        setData(data);\n        processData(data);\n        setLoading(false);\n      })\n      .catch((error) => {\n        setError(error.message);\n        setLoading(false);\n      });\n  }, []);\n\n  const processData = (data: DataItem[]) => {\n    const grouped: { [key: string]: GroupedData } = {};\n    const monthsSet = new Set<string>();\n\n    data.forEach((item) => {\n      const key = `${item.name}-${item.firstname}-${item.subject}-${item.comment || 'No comment'}`;\n      monthsSet.add(item.month);\n\n      if (!grouped[key]) {\n        grouped[key] = {\n          name: item.name,\n          firstname: item.firstname,\n          subject: item.subject,\n          comment: item.comment || 'No comment',\n          loads: {},\n        };\n      }\n\n      grouped[key].loads[item.month] = item.load;\n    });\n\n    setGroupedData(Object.values(grouped));\n    setMonths(Array.from(monthsSet).sort());\n  };\n\n  const requestSort = (key: string) => {\n    let direction = 'ascending';\n    if (sortConfig && sortConfig.key === key && sortConfig.direction === 'ascending') {\n      direction = 'descending';\n    }\n    setSortConfig({ key, direction });\n  };\n\n  const sortedData = React.useMemo(() => {\n    if (!sortConfig) {\n      return groupedData;\n    }\n    return [...groupedData].sort((a, b) => {\n      if (sortConfig.key === 'name') {\n        if (a.name < b.name) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (a.name > b.name) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n      } else if (sortConfig.key === 'subject') {\n        if (a.subject < b.subject) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (a.subject > b.subject) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n      }\n      return 0;\n    });\n  }, [groupedData, sortConfig]);\n\n  const calculateSubtotals = (data: GroupedData[], key: string) => {\n    const subtotals: { [key: string]: number } = {};\n\n    data.forEach(item => {\n      const value = key === 'name' ? item.name : item.subject;\n      if (!subtotals[value]) {\n        subtotals[value] = 0;\n      }\n\n      Object.values(item.loads).forEach(load => {\n        subtotals[value] += load;\n      });\n    });\n\n    return subtotals;\n  };\n\n  const calculateMonthlySubtotals = (data: GroupedData[], key: string, months: string[]) => {\n    const monthlySubtotals: { [key: string]: { [month: string]: number } } = {};\n\n    data.forEach(item => {\n      const value = key === 'name' ? item.name : item.subject;\n      if (!monthlySubtotals[value]) {\n        monthlySubtotals[value] = {};\n        months.forEach(month => {\n          monthlySubtotals[value][month] = 0;\n        });\n      }\n\n      months.forEach(month => {\n        monthlySubtotals[value][month] += item.loads[month] || 0;\n      });\n    });\n\n    return monthlySubtotals;\n  };\n\n  const monthlySubtotals = React.useMemo(() => {\n    if (!sortConfig) {\n      return {};\n    }\n    return calculateMonthlySubtotals(sortedData, sortConfig.key, months);\n  }, [sortedData, sortConfig, months]);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  return (\n    <div>\n      <h1>Show Page</h1>\n      <table>\n        <thead>\n          <tr>\n            <th onClick={() => requestSort('name')}>Name</th>\n            <th>Firstname</th>\n            <th onClick={() => requestSort('subject')}>Subject</th>\n            <th>Comment</th>\n            {months.map((month) => {\n  const date = new Date(month);\n  const monthStr = String(date.getMonth() + 1).padStart(2, '0');\n  const yearStr = String(date.getFullYear()).slice(-2);\n  return <th key={month}>{`${monthStr}\\n${yearStr}`}</th>;\n})}\n          </tr>\n        </thead>\n        <tbody>\n          {sortedData.map((item, index) => (\n            <tr key={index}>\n              <td>{item.name}</td>\n              <td>{item.firstname}</td>\n              <td>{item.subject}</td>\n              <td>{item.comment}</td>\n              {months.map((month) => (\n                <td key={month}>{item.loads[month] || 0}</td>\n              ))}\n            </tr>\n          ))}\n\n          {sortConfig && (\n            <React.Fragment>\n              {Object.keys(monthlySubtotals).map((key, index) => (\n                <tr key={`subtotal-${index}`}>\n                  <td colSpan={sortConfig.key === 'name' ? 1 : 4} style={{ fontWeight: 'bold' }}>\n                    {sortConfig.key === 'name' ? key : ''}\n                  </td>\n                  <td colSpan={sortConfig.key === 'name' ? 3 : 1} style={{ fontWeight: 'bold' }}>\n                    {sortConfig.key === 'subject' ? key : ''}\n                  </td>\n                  {months.map((month, monthIndex) => (\n                    <td key={`subtotal-${index}-${monthIndex}`} style={{ fontWeight: 'bold' }}>\n                      {monthlySubtotals[key][month]}\n                    </td>\n                  ))}\n                </tr>\n              ))}\n            </React.Fragment>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default Show;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,YAAY,QAAQ,cAAc;AAC3C,OAAO,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAoBpB,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACd,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAa,EAAE,CAAC;EAChD,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAgB,EAAE,CAAC;EACjE,MAAM,CAACU,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAW,EAAE,CAAC;EAClD,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAgB,IAAI,CAAC;EACvD,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAA4C,IAAI,CAAC;EAE7FD,SAAS,CAAC,MAAM;IACdmB,KAAK,CAAC,GAAGjB,YAAY,WAAW,CAAC,CAC9BkB,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;MAChD;MACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,CACDJ,IAAI,CAAEb,IAAI,IAAK;MACdC,OAAO,CAACD,IAAI,CAAC;MACbkB,WAAW,CAAClB,IAAI,CAAC;MACjBO,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,CACDY,KAAK,CAAEX,KAAK,IAAK;MAChBC,QAAQ,CAACD,KAAK,CAACY,OAAO,CAAC;MACvBb,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMW,WAAW,GAAIlB,IAAgB,IAAK;IACxC,MAAMqB,OAAuC,GAAG,CAAC,CAAC;IAClD,MAAMC,SAAS,GAAG,IAAIC,GAAG,CAAS,CAAC;IAEnCvB,IAAI,CAACwB,OAAO,CAAEC,IAAI,IAAK;MACrB,MAAMC,GAAG,GAAG,GAAGD,IAAI,CAACE,IAAI,IAAIF,IAAI,CAACG,SAAS,IAAIH,IAAI,CAACI,OAAO,IAAIJ,IAAI,CAACK,OAAO,IAAI,YAAY,EAAE;MAC5FR,SAAS,CAACS,GAAG,CAACN,IAAI,CAACO,KAAK,CAAC;MAEzB,IAAI,CAACX,OAAO,CAACK,GAAG,CAAC,EAAE;QACjBL,OAAO,CAACK,GAAG,CAAC,GAAG;UACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;UACfC,SAAS,EAAEH,IAAI,CAACG,SAAS;UACzBC,OAAO,EAAEJ,IAAI,CAACI,OAAO;UACrBC,OAAO,EAAEL,IAAI,CAACK,OAAO,IAAI,YAAY;UACrCG,KAAK,EAAE,CAAC;QACV,CAAC;MACH;MAEAZ,OAAO,CAACK,GAAG,CAAC,CAACO,KAAK,CAACR,IAAI,CAACO,KAAK,CAAC,GAAGP,IAAI,CAACS,IAAI;IAC5C,CAAC,CAAC;IAEF/B,cAAc,CAACgC,MAAM,CAACC,MAAM,CAACf,OAAO,CAAC,CAAC;IACtChB,SAAS,CAACgC,KAAK,CAACC,IAAI,CAAChB,SAAS,CAAC,CAACiB,IAAI,CAAC,CAAC,CAAC;EACzC,CAAC;EAED,MAAMC,WAAW,GAAId,GAAW,IAAK;IACnC,IAAIe,SAAS,GAAG,WAAW;IAC3B,IAAI/B,UAAU,IAAIA,UAAU,CAACgB,GAAG,KAAKA,GAAG,IAAIhB,UAAU,CAAC+B,SAAS,KAAK,WAAW,EAAE;MAChFA,SAAS,GAAG,YAAY;IAC1B;IACA9B,aAAa,CAAC;MAAEe,GAAG;MAAEe;IAAU,CAAC,CAAC;EACnC,CAAC;EAED,MAAMC,UAAU,GAAGlD,KAAK,CAACmD,OAAO,CAAC,MAAM;IACrC,IAAI,CAACjC,UAAU,EAAE;MACf,OAAOR,WAAW;IACpB;IACA,OAAO,CAAC,GAAGA,WAAW,CAAC,CAACqC,IAAI,CAAC,CAACK,CAAC,EAAEC,CAAC,KAAK;MACrC,IAAInC,UAAU,CAACgB,GAAG,KAAK,MAAM,EAAE;QAC7B,IAAIkB,CAAC,CAACjB,IAAI,GAAGkB,CAAC,CAAClB,IAAI,EAAE;UACnB,OAAOjB,UAAU,CAAC+B,SAAS,KAAK,WAAW,GAAG,CAAC,CAAC,GAAG,CAAC;QACtD;QACA,IAAIG,CAAC,CAACjB,IAAI,GAAGkB,CAAC,CAAClB,IAAI,EAAE;UACnB,OAAOjB,UAAU,CAAC+B,SAAS,KAAK,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC;QACtD;MACF,CAAC,MAAM,IAAI/B,UAAU,CAACgB,GAAG,KAAK,SAAS,EAAE;QACvC,IAAIkB,CAAC,CAACf,OAAO,GAAGgB,CAAC,CAAChB,OAAO,EAAE;UACzB,OAAOnB,UAAU,CAAC+B,SAAS,KAAK,WAAW,GAAG,CAAC,CAAC,GAAG,CAAC;QACtD;QACA,IAAIG,CAAC,CAACf,OAAO,GAAGgB,CAAC,CAAChB,OAAO,EAAE;UACzB,OAAOnB,UAAU,CAAC+B,SAAS,KAAK,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC;QACtD;MACF;MACA,OAAO,CAAC;IACV,CAAC,CAAC;EACJ,CAAC,EAAE,CAACvC,WAAW,EAAEQ,UAAU,CAAC,CAAC;EAE7B,MAAMoC,kBAAkB,GAAGA,CAAC9C,IAAmB,EAAE0B,GAAW,KAAK;IAC/D,MAAMqB,SAAoC,GAAG,CAAC,CAAC;IAE/C/C,IAAI,CAACwB,OAAO,CAACC,IAAI,IAAI;MACnB,MAAMuB,KAAK,GAAGtB,GAAG,KAAK,MAAM,GAAGD,IAAI,CAACE,IAAI,GAAGF,IAAI,CAACI,OAAO;MACvD,IAAI,CAACkB,SAAS,CAACC,KAAK,CAAC,EAAE;QACrBD,SAAS,CAACC,KAAK,CAAC,GAAG,CAAC;MACtB;MAEAb,MAAM,CAACC,MAAM,CAACX,IAAI,CAACQ,KAAK,CAAC,CAACT,OAAO,CAACU,IAAI,IAAI;QACxCa,SAAS,CAACC,KAAK,CAAC,IAAId,IAAI;MAC1B,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,OAAOa,SAAS;EAClB,CAAC;EAED,MAAME,yBAAyB,GAAGA,CAACjD,IAAmB,EAAE0B,GAAW,EAAEtB,MAAgB,KAAK;IACxF,MAAM8C,gBAAgE,GAAG,CAAC,CAAC;IAE3ElD,IAAI,CAACwB,OAAO,CAACC,IAAI,IAAI;MACnB,MAAMuB,KAAK,GAAGtB,GAAG,KAAK,MAAM,GAAGD,IAAI,CAACE,IAAI,GAAGF,IAAI,CAACI,OAAO;MACvD,IAAI,CAACqB,gBAAgB,CAACF,KAAK,CAAC,EAAE;QAC5BE,gBAAgB,CAACF,KAAK,CAAC,GAAG,CAAC,CAAC;QAC5B5C,MAAM,CAACoB,OAAO,CAACQ,KAAK,IAAI;UACtBkB,gBAAgB,CAACF,KAAK,CAAC,CAAChB,KAAK,CAAC,GAAG,CAAC;QACpC,CAAC,CAAC;MACJ;MAEA5B,MAAM,CAACoB,OAAO,CAACQ,KAAK,IAAI;QACtBkB,gBAAgB,CAACF,KAAK,CAAC,CAAChB,KAAK,CAAC,IAAIP,IAAI,CAACQ,KAAK,CAACD,KAAK,CAAC,IAAI,CAAC;MAC1D,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,OAAOkB,gBAAgB;EACzB,CAAC;EAED,MAAMA,gBAAgB,GAAG1D,KAAK,CAACmD,OAAO,CAAC,MAAM;IAC3C,IAAI,CAACjC,UAAU,EAAE;MACf,OAAO,CAAC,CAAC;IACX;IACA,OAAOuC,yBAAyB,CAACP,UAAU,EAAEhC,UAAU,CAACgB,GAAG,EAAEtB,MAAM,CAAC;EACtE,CAAC,EAAE,CAACsC,UAAU,EAAEhC,UAAU,EAAEN,MAAM,CAAC,CAAC;EAEpC,IAAIE,OAAO,EAAE;IACX,oBAAOT,OAAA;MAAAsD,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC9B;EAEA,IAAI/C,KAAK,EAAE;IACT,oBAAOX,OAAA;MAAAsD,QAAA,GAAK,SAAO,EAAC3C,KAAK;IAAA;MAAA4C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAClC;EAEA,oBACE1D,OAAA;IAAAsD,QAAA,gBACEtD,OAAA;MAAAsD,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClB1D,OAAA;MAAAsD,QAAA,gBACEtD,OAAA;QAAAsD,QAAA,eACEtD,OAAA;UAAAsD,QAAA,gBACEtD,OAAA;YAAI2D,OAAO,EAAEA,CAAA,KAAMhB,WAAW,CAAC,MAAM,CAAE;YAAAW,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjD1D,OAAA;YAAAsD,QAAA,EAAI;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClB1D,OAAA;YAAI2D,OAAO,EAAEA,CAAA,KAAMhB,WAAW,CAAC,SAAS,CAAE;YAAAW,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvD1D,OAAA;YAAAsD,QAAA,EAAI;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EACfnD,MAAM,CAACqD,GAAG,CAAEzB,KAAK,IAAK;YACjC,MAAM0B,IAAI,GAAG,IAAIC,IAAI,CAAC3B,KAAK,CAAC;YAC5B,MAAM4B,QAAQ,GAAGC,MAAM,CAACH,IAAI,CAACI,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;YAC7D,MAAMC,OAAO,GAAGH,MAAM,CAACH,IAAI,CAACO,WAAW,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;YACpD,oBAAOrE,OAAA;cAAAsD,QAAA,EAAiB,GAAGS,QAAQ,KAAKI,OAAO;YAAE,GAAjChC,KAAK;cAAAoB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAiC,CAAC;UACzD,CAAC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACY;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACR1D,OAAA;QAAAsD,QAAA,GACGT,UAAU,CAACe,GAAG,CAAC,CAAChC,IAAI,EAAE0C,KAAK,kBAC1BtE,OAAA;UAAAsD,QAAA,gBACEtD,OAAA;YAAAsD,QAAA,EAAK1B,IAAI,CAACE;UAAI;YAAAyB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACpB1D,OAAA;YAAAsD,QAAA,EAAK1B,IAAI,CAACG;UAAS;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACzB1D,OAAA;YAAAsD,QAAA,EAAK1B,IAAI,CAACI;UAAO;YAAAuB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACvB1D,OAAA;YAAAsD,QAAA,EAAK1B,IAAI,CAACK;UAAO;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,EACtBnD,MAAM,CAACqD,GAAG,CAAEzB,KAAK,iBAChBnC,OAAA;YAAAsD,QAAA,EAAiB1B,IAAI,CAACQ,KAAK,CAACD,KAAK,CAAC,IAAI;UAAC,GAA9BA,KAAK;YAAAoB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA8B,CAC7C,CAAC;QAAA,GAPKY,KAAK;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAQV,CACL,CAAC,EAED7C,UAAU,iBACTb,OAAA,CAACL,KAAK,CAAC4E,QAAQ;UAAAjB,QAAA,EACZhB,MAAM,CAACkC,IAAI,CAACnB,gBAAgB,CAAC,CAACO,GAAG,CAAC,CAAC/B,GAAG,EAAEyC,KAAK,kBAC5CtE,OAAA;YAAAsD,QAAA,gBACEtD,OAAA;cAAIyE,OAAO,EAAE5D,UAAU,CAACgB,GAAG,KAAK,MAAM,GAAG,CAAC,GAAG,CAAE;cAAC6C,KAAK,EAAE;gBAAEC,UAAU,EAAE;cAAO,CAAE;cAAArB,QAAA,EAC3EzC,UAAU,CAACgB,GAAG,KAAK,MAAM,GAAGA,GAAG,GAAG;YAAE;cAAA0B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnC,CAAC,eACL1D,OAAA;cAAIyE,OAAO,EAAE5D,UAAU,CAACgB,GAAG,KAAK,MAAM,GAAG,CAAC,GAAG,CAAE;cAAC6C,KAAK,EAAE;gBAAEC,UAAU,EAAE;cAAO,CAAE;cAAArB,QAAA,EAC3EzC,UAAU,CAACgB,GAAG,KAAK,SAAS,GAAGA,GAAG,GAAG;YAAE;cAAA0B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC,CAAC,EACJnD,MAAM,CAACqD,GAAG,CAAC,CAACzB,KAAK,EAAEyC,UAAU,kBAC5B5E,OAAA;cAA4C0E,KAAK,EAAE;gBAAEC,UAAU,EAAE;cAAO,CAAE;cAAArB,QAAA,EACvED,gBAAgB,CAACxB,GAAG,CAAC,CAACM,KAAK;YAAC,GADtB,YAAYmC,KAAK,IAAIM,UAAU,EAAE;cAAArB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEtC,CACL,CAAC;UAAA,GAXK,YAAYY,KAAK,EAAE;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAYxB,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACY,CACjB;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV;AAACxD,EAAA,CA9LQD,IAAI;AAAA4E,EAAA,GAAJ5E,IAAI;AAgMb,eAAeA,IAAI;AAAC,IAAA4E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}