{"ast":null,"code":"import { API_BASE_URL } from './apiConfig';\nimport { getToken } from './authUtils';\nconst apiClient = {\n  get: async endpoint => {\n    const token = getToken();\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      method: 'GET',\n      headers: headers\n    });\n    if (!response.ok) {\n      throw new Error(`API request failed: ${response.statusText}`);\n    }\n    return response.json();\n  },\n  post: async (endpoint, body) => {\n    const token = getToken();\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      method: 'POST',\n      headers: headers,\n      body: JSON.stringify(body)\n    });\n    if (!response.ok) {\n      throw new Error(`API request failed: ${response.statusText}`);\n    }\n    return response.json();\n  }\n};\nexport default apiClient;","map":{"version":3,"names":["API_BASE_URL","getToken","apiClient","get","endpoint","token","headers","response","fetch","method","ok","Error","statusText","json","post","body","JSON","stringify"],"sources":["/Users/pascal/workspace/plan_de_charge/front/src/apiClient.ts"],"sourcesContent":["import { API_BASE_URL } from './apiConfig';\nimport { getToken } from './authUtils';\n\nconst apiClient = {\n  get: async (endpoint: string) => {\n    const token = getToken();\n    const headers: HeadersInit = {\n      'Content-Type': 'application/json',\n    };\n\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      method: 'GET',\n      headers: headers,\n    });\n\n    if (!response.ok) {\n      throw new Error(`API request failed: ${response.statusText}`);\n    }\n\n    return response.json();\n  },\n\n  post: async (endpoint: string, body: any) => {\n    const token = getToken();\n    const headers: HeadersInit = {\n      'Content-Type': 'application/json',\n    };\n\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      method: 'POST',\n      headers: headers,\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      throw new Error(`API request failed: ${response.statusText}`);\n    }\n\n    return response.json();\n  },\n};\n\nexport default apiClient;\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,aAAa;AAC1C,SAASC,QAAQ,QAAQ,aAAa;AAEtC,MAAMC,SAAS,GAAG;EAChBC,GAAG,EAAE,MAAOC,QAAgB,IAAK;IAC/B,MAAMC,KAAK,GAAGJ,QAAQ,CAAC,CAAC;IACxB,MAAMK,OAAoB,GAAG;MAC3B,cAAc,EAAE;IAClB,CAAC;IAED,IAAID,KAAK,EAAE;MACTC,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUD,KAAK,EAAE;IAC9C;IAEA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,YAAY,GAAGI,QAAQ,EAAE,EAAE;MACzDK,MAAM,EAAE,KAAK;MACbH,OAAO,EAAEA;IACX,CAAC,CAAC;IAEF,IAAI,CAACC,QAAQ,CAACG,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBJ,QAAQ,CAACK,UAAU,EAAE,CAAC;IAC/D;IAEA,OAAOL,QAAQ,CAACM,IAAI,CAAC,CAAC;EACxB,CAAC;EAEDC,IAAI,EAAE,MAAAA,CAAOV,QAAgB,EAAEW,IAAS,KAAK;IAC3C,MAAMV,KAAK,GAAGJ,QAAQ,CAAC,CAAC;IACxB,MAAMK,OAAoB,GAAG;MAC3B,cAAc,EAAE;IAClB,CAAC;IAED,IAAID,KAAK,EAAE;MACTC,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUD,KAAK,EAAE;IAC9C;IAEA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,YAAY,GAAGI,QAAQ,EAAE,EAAE;MACzDK,MAAM,EAAE,MAAM;MACdH,OAAO,EAAEA,OAAO;MAChBS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACF,IAAI;IAC3B,CAAC,CAAC;IAEF,IAAI,CAACR,QAAQ,CAACG,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBJ,QAAQ,CAACK,UAAU,EAAE,CAAC;IAC/D;IAEA,OAAOL,QAAQ,CAACM,IAAI,CAAC,CAAC;EACxB;AACF,CAAC;AAED,eAAeX,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}