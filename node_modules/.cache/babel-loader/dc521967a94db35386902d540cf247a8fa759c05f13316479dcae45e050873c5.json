{"ast":null,"code":"import * as jwt from 'jsonwebtoken';\nconst SECRET_KEY = 'your-secret-key'; // Replace with a strong secret key\n\nexport const generateToken = userId => {\n  return jwt.sign({\n    userId\n  }, SECRET_KEY, {\n    expiresIn: '1h'\n  });\n};\nexport const getToken = () => {\n  return localStorage.getItem('sessionToken');\n};\nexport const setToken = token => {\n  localStorage.setItem('sessionToken', token);\n};\nexport const removeToken = () => {\n  localStorage.removeItem('sessionToken');\n};\nexport const isTokenValid = token => {\n  try {\n    jwt.verify(token, SECRET_KEY);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};","map":{"version":3,"names":["jwt","SECRET_KEY","generateToken","userId","sign","expiresIn","getToken","localStorage","getItem","setToken","token","setItem","removeToken","removeItem","isTokenValid","verify","error"],"sources":["/Users/pascal/workspace/plan_de_charge/front/src/authUtils.ts"],"sourcesContent":["import * as jwt from 'jsonwebtoken';\n\nconst SECRET_KEY = 'your-secret-key'; // Replace with a strong secret key\n\nexport const generateToken = (userId: number): string => {\n  return jwt.sign({ userId }, SECRET_KEY, { expiresIn: '1h' });\n};\n\nexport const getToken = (): string | null => {\n  return localStorage.getItem('sessionToken');\n};\n\nexport const setToken = (token: string): void => {\n  localStorage.setItem('sessionToken', token);\n};\n\nexport const removeToken = (): void => {\n  localStorage.removeItem('sessionToken');\n};\n\nexport const isTokenValid = (token: string): boolean => {\n  try {\n    jwt.verify(token, SECRET_KEY);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n"],"mappings":"AAAA,OAAO,KAAKA,GAAG,MAAM,cAAc;AAEnC,MAAMC,UAAU,GAAG,iBAAiB,CAAC,CAAC;;AAEtC,OAAO,MAAMC,aAAa,GAAIC,MAAc,IAAa;EACvD,OAAOH,GAAG,CAACI,IAAI,CAAC;IAAED;EAAO,CAAC,EAAEF,UAAU,EAAE;IAAEI,SAAS,EAAE;EAAK,CAAC,CAAC;AAC9D,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAqB;EAC3C,OAAOC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;AAC7C,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAIC,KAAa,IAAW;EAC/CH,YAAY,CAACI,OAAO,CAAC,cAAc,EAAED,KAAK,CAAC;AAC7C,CAAC;AAED,OAAO,MAAME,WAAW,GAAGA,CAAA,KAAY;EACrCL,YAAY,CAACM,UAAU,CAAC,cAAc,CAAC;AACzC,CAAC;AAED,OAAO,MAAMC,YAAY,GAAIJ,KAAa,IAAc;EACtD,IAAI;IACFV,GAAG,CAACe,MAAM,CAACL,KAAK,EAAET,UAAU,CAAC;IAC7B,OAAO,IAAI;EACb,CAAC,CAAC,OAAOe,KAAK,EAAE;IACd,OAAO,KAAK;EACd;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}