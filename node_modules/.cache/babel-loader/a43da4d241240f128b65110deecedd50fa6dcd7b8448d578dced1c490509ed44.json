{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{API_BASE_URL}from'../apiConfig';import'./Admin.css';import'./Subject.css';import AdminManageAdmin from'./Admin_manage_admin';import AdminManageTeams from'./Admin_manage_teams';import AdminManageTeamMembers from'./Admin_manage_team_members';import AdminManageSubjects from'./Admin_manage_subjects';import AdminManageSubjectTypes from'./Admin_manage_subject_types';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Admin(){const[userId,setUserId]=useState('');const[isAdmin,setIsAdmin]=useState(false);const[admins,setAdmins]=useState([]);const[subjects,setSubjects]=useState([]);const[subjectTypes,setSubjectTypes]=useState({});const[selectedSubjectType,setSelectedSubjectType]=useState(null);const[newSubject,setNewSubject]=useState('');const[newSubjectType,setNewSubjectType]=useState('');const navigate=useNavigate();const[users,setUsers]=useState([]);const[selectedUserId,setSelectedUserId]=useState(null);const[teams,setTeams]=useState([]);const[newTeamName,setNewTeamName]=useState('');const[selectedManagerIds,setSelectedManagerIds]=useState({});const[allTeamManagers,setAllTeamManagers]=useState([]);const[teamMembers,setTeamMembers]=useState([]);const[newMemberName,setNewMemberName]=useState('');const[newMemberFirstname,setNewMemberFirstname]=useState('');const[newMemberId,setNewMemberId]=useState(null);const[selectedTeamId,setSelectedTeamId]=useState(null);const[activeTab,setActiveTab]=useState('admin');useEffect(()=>{const token=localStorage.getItem('jwtToken');if(token){const decodedToken=JSON.parse(atob(token.split('.')[1]));setUserId(decodedToken.userId);document.title=\"Admin - User: \".concat(decodedToken.userId);// Check if the user is an admin\nfetch(\"\".concat(API_BASE_URL,\"/api/is-admin\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(response=>response.json()).then(data=>{if(!data.isAdmin){navigate('/');}else{setIsAdmin(true);// Fetch the list of admins\nfetch(\"\".concat(API_BASE_URL,\"/api/admins\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(response=>response.json()).then(adminData=>{setAdmins(adminData);}).catch(error=>{console.error('Error fetching admins:',error);});}}).catch(error=>{console.error('Error checking admin status:',error);navigate('/');});}else{document.title='Admin';navigate('/');}},[navigate]);useEffect(()=>{const token=localStorage.getItem('jwtToken');if(token){console.log('Fetching admins from:',\"\".concat(API_BASE_URL,\"/api/admins\"));// Fetch the list of admins first\nfetch(\"\".concat(API_BASE_URL,\"/api/admins\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(response=>{console.log('Response status:',response.status);console.log('Response headers:',response.headers);console.log('Response url:',response.url);console.log('Response type:',response.type);console.log('Response body:',response.body);return response.json();}).then(adminData=>{console.log('Admins data:',adminData);setAdmins(adminData);// Fetch the list of users who are not admins\nfetch(\"\".concat(API_BASE_URL,\"/api/persons\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(response=>response.json()).then(personData=>{// Filter out users who are already admins\nconst nonAdminUsers=personData.filter(person=>!adminData.some(admin=>admin.id_pers===person.id_pers));setUsers(nonAdminUsers);}).catch(error=>{console.error('Error fetching users:',error);});}).catch(error=>{console.error('Error fetching admins:',error);});// Fetch the list of teams with their managers\nfetch(\"\".concat(API_BASE_URL,\"/api/teams-with-managers\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(response=>response.json()).then(teamData=>{const updatedTeams=teamData.reduce((acc,team)=>{const existingTeam=acc.find(t=>t.id_team===team.id_team);if(existingTeam){if(team.manager_id){existingTeam.managers.push({id_pers:team.manager_id,name:team.manager_name,firstname:team.manager_firstname,id_team:team.id_team});}}else{acc.push({id_team:team.id_team,team:team.team,managers:team.manager_id?[{id_pers:team.manager_id,name:team.manager_name,firstname:team.manager_firstname,id_team:team.id_team}]:[]});}return acc;},[]);setTeams(updatedTeams);}).catch(error=>{console.error('Error fetching teams with managers:',error);});// Fetch the list of team members\nfetch(\"\".concat(API_BASE_URL,\"/api/team-members\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(response=>response.json()).then(memberData=>{setTeamMembers(memberData);}).catch(error=>{console.error('Error fetching team members:',error);});// Fetch the list of subjects\nfetch(\"\".concat(API_BASE_URL,\"/api/subjects\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(response=>response.json()).then(subjectData=>{setSubjects(subjectData);}).catch(error=>{console.error('Error fetching subjects:',error);});// Fetch the list of subject types\nfetch(\"\".concat(API_BASE_URL,\"/api/subject-types\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(response=>response.json()).then(typeData=>{const typesMap=typeData.reduce((acc,type)=>{acc[type.id_subject_type]=type.type;return acc;},{});setSubjectTypes(typesMap);}).catch(error=>{console.error('Error fetching subject types:',error);});}},[]);if(!isAdmin){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Admin Page - User: \",userId]}),/*#__PURE__*/_jsx(\"p\",{children:\"Welcome to the admin section. Here you can manage users, settings, and more.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:activeTab==='admin'?'active':'',onClick:()=>setActiveTab('admin'),children:\"Manage Admins\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='teams'?'active':'',onClick:()=>setActiveTab('teams'),children:\"Manage Teams\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='team-members'?'active':'',onClick:()=>setActiveTab('team-members'),children:\"Manage Team Members\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='subjects'?'active':'',onClick:()=>setActiveTab('subjects'),children:\"Manage Subjects\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='subject-types'?'active':'',onClick:()=>setActiveTab('subject-types'),children:\"Manage Subject Types\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-content\",children:[activeTab==='admin'&&/*#__PURE__*/_jsx(AdminManageAdmin,{userId:userId,admins:admins,setAdmins:setAdmins,users:users,setUsers:setUsers,selectedUserId:selectedUserId,setSelectedUserId:setSelectedUserId}),activeTab==='teams'&&/*#__PURE__*/_jsx(AdminManageTeams,{teams:teams,setTeams:setTeams,users:users,selectedManagerIds:selectedManagerIds,setSelectedManagerIds:setSelectedManagerIds,newTeamName:newTeamName,setNewTeamName:setNewTeamName}),activeTab==='team-members'&&/*#__PURE__*/_jsx(AdminManageTeamMembers,{teamMembers:teamMembers,setTeamMembers:setTeamMembers,teams:teams,newMemberName:newMemberName,setNewMemberName:setNewMemberName,newMemberFirstname:newMemberFirstname,setNewMemberFirstname:setNewMemberFirstname,newMemberId:newMemberId,setNewMemberId:setNewMemberId,selectedTeamId:selectedTeamId,setSelectedTeamId:setSelectedTeamId}),activeTab==='subjects'&&/*#__PURE__*/_jsx(AdminManageSubjects,{subjects:subjects,setSubjects:setSubjects,subjectTypes:subjectTypes,newSubject:newSubject,setNewSubject:setNewSubject,selectedSubjectType:selectedSubjectType,setSelectedSubjectType:setSelectedSubjectType}),activeTab==='subject-types'&&/*#__PURE__*/_jsx(AdminManageSubjectTypes,{subjectTypes:subjectTypes,setSubjectTypes:setSubjectTypes,newSubjectType:newSubjectType,setNewSubjectType:setNewSubjectType})]})]});}export default Admin;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","API_BASE_URL","AdminManageAdmin","AdminManageTeams","AdminManageTeamMembers","AdminManageSubjects","AdminManageSubjectTypes","jsxs","_jsxs","jsx","_jsx","Admin","userId","setUserId","isAdmin","setIsAdmin","admins","setAdmins","subjects","setSubjects","subjectTypes","setSubjectTypes","selectedSubjectType","setSelectedSubjectType","newSubject","setNewSubject","newSubjectType","setNewSubjectType","navigate","users","setUsers","selectedUserId","setSelectedUserId","teams","setTeams","newTeamName","setNewTeamName","selectedManagerIds","setSelectedManagerIds","allTeamManagers","setAllTeamManagers","teamMembers","setTeamMembers","newMemberName","setNewMemberName","newMemberFirstname","setNewMemberFirstname","newMemberId","setNewMemberId","selectedTeamId","setSelectedTeamId","activeTab","setActiveTab","token","localStorage","getItem","decodedToken","JSON","parse","atob","split","document","title","concat","fetch","headers","Authorization","then","response","json","data","adminData","catch","error","console","log","status","url","type","body","personData","nonAdminUsers","filter","person","some","admin","id_pers","teamData","updatedTeams","reduce","acc","team","existingTeam","find","t","id_team","manager_id","managers","push","name","manager_name","firstname","manager_firstname","memberData","subjectData","typeData","typesMap","id_subject_type","className","children","onClick"],"sources":["/Users/pascal/workspace/plan_de_charge/front/src/components/Admin.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { API_BASE_URL } from '../apiConfig';\nimport './Admin.css';\nimport './Subject.css';\nimport AdminManageAdmin from './Admin_manage_admin';\nimport AdminManageTeams from './Admin_manage_teams';\nimport AdminManageTeamMembers from './Admin_manage_team_members';\nimport AdminManageSubjects from './Admin_manage_subjects';\nimport AdminManageSubjectTypes from './Admin_manage_subject_types';\n\ninterface Admin {\n  id_pers: number;\n  name: string;\n  firstname: string;\n}\n\ninterface User {\n  id_pers: number;\n  name: string;\n  firstname: string;\n}\n\ninterface Team {\n  id_team: number;\n  team: string;\n  managers?: TeamManager[];\n}\n\ninterface TeamManager {\n  id_pers: number;\n  name: string;\n  firstname: string;\n  id_team: number;\n}\n\ninterface TeamMember {\n  id_pers: number;\n  name: string;\n  firstname: string;\n  id_team: number;\n}\n\ninterface Subject {\n  id_subject: number;\n  subject: string;\n  id_subject_type: number;\n  type?: string;\n}\n\nfunction Admin() {\n  const [userId, setUserId] = useState('');\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [admins, setAdmins] = useState<Admin[]>([]);\n  const [subjects, setSubjects] = useState<Subject[]>([]);\n  const [subjectTypes, setSubjectTypes] = useState<{ [id: number]: string }>({});\n  const [selectedSubjectType, setSelectedSubjectType] = useState<number | null>(null);\n  const [newSubject, setNewSubject] = useState('');\n  const [newSubjectType, setNewSubjectType] = useState('');\n  const navigate = useNavigate();\n\n  const [users, setUsers] = useState<User[]>([]);\n  const [selectedUserId, setSelectedUserId] = useState<number | null>(null);\n  const [teams, setTeams] = useState<Team[]>([]);\n  const [newTeamName, setNewTeamName] = useState('');\n  const [selectedManagerIds, setSelectedManagerIds] = useState<{ [teamId: number]: number | null }>({});\n  const [allTeamManagers, setAllTeamManagers] = useState<TeamManager[]>([]);\n  const [teamMembers, setTeamMembers] = useState<TeamMember[]>([]);\n  const [newMemberName, setNewMemberName] = useState('');\n  const [newMemberFirstname, setNewMemberFirstname] = useState('');\n  const [newMemberId, setNewMemberId] = useState<number | null>(null);\n  const [selectedTeamId, setSelectedTeamId] = useState<number | null>(null);\n\n  const [activeTab, setActiveTab] = useState('admin');\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwtToken');\n    if (token) {\n      const decodedToken = JSON.parse(atob(token.split('.')[1]));\n      setUserId(decodedToken.userId);\n      document.title = `Admin - User: ${decodedToken.userId}`;\n\n      // Check if the user is an admin\n      fetch(`${API_BASE_URL}/api/is-admin`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then(response => response.json())\n        .then(data => {\n          if (!data.isAdmin) {\n            navigate('/');\n          } else {\n            setIsAdmin(true);\n\n            // Fetch the list of admins\n            fetch(`${API_BASE_URL}/api/admins`, {\n              headers: {\n                Authorization: `Bearer ${token}`,\n              },\n            })\n              .then(response => response.json())\n              .then(adminData => {\n                setAdmins(adminData);\n              })\n              .catch(error => {\n                console.error('Error fetching admins:', error);\n              });\n          }\n        })\n        .catch(error => {\n          console.error('Error checking admin status:', error);\n          navigate('/');\n        });\n    } else {\n      document.title = 'Admin';\n      navigate('/');\n    }\n  }, [navigate]);\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwtToken');\n    if (token) {\n      console.log('Fetching admins from:', `${API_BASE_URL}/api/admins`);\n      // Fetch the list of admins first\n      fetch(`${API_BASE_URL}/api/admins`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then(response => {\n          console.log('Response status:', response.status);\n          console.log('Response headers:', response.headers);\n          console.log('Response url:', response.url);\n          console.log('Response type:', response.type);\n          console.log('Response body:', response.body);\n          return response.json();\n        })\n        .then((adminData: Admin[]) => {\n          console.log('Admins data:', adminData);\n          setAdmins(adminData);\n\n          // Fetch the list of users who are not admins\n          fetch(`${API_BASE_URL}/api/persons`, {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          })\n            .then(response => response.json())\n            .then(personData => {\n              // Filter out users who are already admins\n              const nonAdminUsers = personData.filter((person: User) =>\n                !adminData.some((admin: Admin) => admin.id_pers === person.id_pers)\n              );\n              setUsers(nonAdminUsers);\n            })\n            .catch(error => {\n              console.error('Error fetching users:', error);\n            });\n        })\n        .catch(error => {\n          console.error('Error fetching admins:', error);\n        });\n\n      // Fetch the list of teams with their managers\n      fetch(`${API_BASE_URL}/api/teams-with-managers`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then(response => response.json())\n        .then(teamData => {\n          const updatedTeams = teamData.reduce((acc: any, team: any) => {\n            const existingTeam = acc.find((t: any) => t.id_team === team.id_team);\n            if (existingTeam) {\n              if (team.manager_id) {\n                existingTeam.managers.push({\n                  id_pers: team.manager_id,\n                  name: team.manager_name,\n                  firstname: team.manager_firstname,\n                  id_team: team.id_team,\n                });\n              }\n            } else {\n              acc.push({\n                id_team: team.id_team,\n                team: team.team,\n                managers: team.manager_id ? [\n                  {\n                    id_pers: team.manager_id,\n                    name: team.manager_name,\n                    firstname: team.manager_firstname,\n                    id_team: team.id_team,\n                  },\n                ] : [],\n              });\n            }\n            return acc;\n          }, []);\n          setTeams(updatedTeams);\n        })\n        .catch(error => {\n          console.error('Error fetching teams with managers:', error);\n        });\n\n      // Fetch the list of team members\n      fetch(`${API_BASE_URL}/api/team-members`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then(response => response.json())\n        .then(memberData => {\n          setTeamMembers(memberData);\n        })\n        .catch(error => {\n          console.error('Error fetching team members:', error);\n        });\n\n      // Fetch the list of subjects\n      fetch(`${API_BASE_URL}/api/subjects`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then(response => response.json())\n        .then(subjectData => {\n          setSubjects(subjectData);\n        })\n        .catch(error => {\n          console.error('Error fetching subjects:', error);\n        });\n\n      // Fetch the list of subject types\n      fetch(`${API_BASE_URL}/api/subject-types`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then(response => response.json())\n        .then(typeData => {\n          const typesMap = typeData.reduce((acc: { [id: number]: string }, type: any) => {\n            acc[type.id_subject_type] = type.type;\n            return acc;\n          }, {});\n          setSubjectTypes(typesMap);\n        })\n        .catch(error => {\n          console.error('Error fetching subject types:', error);\n        });\n    }\n  }, []);\n\n  if (!isAdmin) {\n    return null;\n  }\n\n  return (\n    <div className=\"admin-container\">\n      <h1>Admin Page - User: {userId}</h1>\n      <p>Welcome to the admin section. Here you can manage users, settings, and more.</p>\n\n      <div className=\"admin-tabs\">\n        <button\n          className={activeTab === 'admin' ? 'active' : ''}\n          onClick={() => setActiveTab('admin')}\n        >\n          Manage Admins\n        </button>\n        <button\n          className={activeTab === 'teams' ? 'active' : ''}\n          onClick={() => setActiveTab('teams')}\n        >\n          Manage Teams\n        </button>\n        <button\n          className={activeTab === 'team-members' ? 'active' : ''}\n          onClick={() => setActiveTab('team-members')}\n        >\n          Manage Team Members\n        </button>\n        <button\n          className={activeTab === 'subjects' ? 'active' : ''}\n          onClick={() => setActiveTab('subjects')}\n        >\n          Manage Subjects\n        </button>\n        <button\n          className={activeTab === 'subject-types' ? 'active' : ''}\n          onClick={() => setActiveTab('subject-types')}\n        >\n          Manage Subject Types\n        </button>\n      </div>\n\n      <div className=\"admin-content\">\n        {activeTab === 'admin' && (\n          <AdminManageAdmin\n            userId={userId}\n            admins={admins}\n            setAdmins={setAdmins}\n            users={users}\n            setUsers={setUsers}\n            selectedUserId={selectedUserId}\n            setSelectedUserId={setSelectedUserId}\n          />\n        )}\n        {activeTab === 'teams' && (\n          <AdminManageTeams\n            teams={teams}\n            setTeams={setTeams}\n            users={users}\n            selectedManagerIds={selectedManagerIds}\n            setSelectedManagerIds={setSelectedManagerIds}\n            newTeamName={newTeamName}\n            setNewTeamName={setNewTeamName}\n          />\n        )}\n        {activeTab === 'team-members' && (\n          <AdminManageTeamMembers\n            teamMembers={teamMembers}\n            setTeamMembers={setTeamMembers}\n            teams={teams}\n            newMemberName={newMemberName}\n            setNewMemberName={setNewMemberName}\n            newMemberFirstname={newMemberFirstname}\n            setNewMemberFirstname={setNewMemberFirstname}\n            newMemberId={newMemberId}\n            setNewMemberId={setNewMemberId}\n            selectedTeamId={selectedTeamId}\n            setSelectedTeamId={setSelectedTeamId}\n          />\n        )}\n        {activeTab === 'subjects' && (\n          <AdminManageSubjects\n            subjects={subjects}\n            setSubjects={setSubjects}\n            subjectTypes={subjectTypes}\n            newSubject={newSubject}\n            setNewSubject={setNewSubject}\n            selectedSubjectType={selectedSubjectType}\n            setSelectedSubjectType={setSelectedSubjectType}\n          />\n        )}\n        {activeTab === 'subject-types' && (\n          <AdminManageSubjectTypes\n            subjectTypes={subjectTypes}\n            setSubjectTypes={setSubjectTypes}\n            newSubjectType={newSubjectType}\n            setNewSubjectType={setNewSubjectType}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Admin;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,YAAY,KAAQ,cAAc,CAC3C,MAAO,aAAa,CACpB,MAAO,eAAe,CACtB,MAAO,CAAAC,gBAAgB,KAAM,sBAAsB,CACnD,MAAO,CAAAC,gBAAgB,KAAM,sBAAsB,CACnD,MAAO,CAAAC,sBAAsB,KAAM,6BAA6B,CAChE,MAAO,CAAAC,mBAAmB,KAAM,yBAAyB,CACzD,MAAO,CAAAC,uBAAuB,KAAM,8BAA8B,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAyCnE,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACf,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACiB,MAAM,CAAEC,SAAS,CAAC,CAAGlB,QAAQ,CAAU,EAAE,CAAC,CACjD,KAAM,CAACmB,QAAQ,CAAEC,WAAW,CAAC,CAAGpB,QAAQ,CAAY,EAAE,CAAC,CACvD,KAAM,CAACqB,YAAY,CAAEC,eAAe,CAAC,CAAGtB,QAAQ,CAA2B,CAAC,CAAC,CAAC,CAC9E,KAAM,CAACuB,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGxB,QAAQ,CAAgB,IAAI,CAAC,CACnF,KAAM,CAACyB,UAAU,CAAEC,aAAa,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC2B,cAAc,CAAEC,iBAAiB,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAAA6B,QAAQ,CAAG5B,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAC6B,KAAK,CAAEC,QAAQ,CAAC,CAAG/B,QAAQ,CAAS,EAAE,CAAC,CAC9C,KAAM,CAACgC,cAAc,CAAEC,iBAAiB,CAAC,CAAGjC,QAAQ,CAAgB,IAAI,CAAC,CACzE,KAAM,CAACkC,KAAK,CAAEC,QAAQ,CAAC,CAAGnC,QAAQ,CAAS,EAAE,CAAC,CAC9C,KAAM,CAACoC,WAAW,CAAEC,cAAc,CAAC,CAAGrC,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACsC,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGvC,QAAQ,CAAsC,CAAC,CAAC,CAAC,CACrG,KAAM,CAACwC,eAAe,CAAEC,kBAAkB,CAAC,CAAGzC,QAAQ,CAAgB,EAAE,CAAC,CACzE,KAAM,CAAC0C,WAAW,CAAEC,cAAc,CAAC,CAAG3C,QAAQ,CAAe,EAAE,CAAC,CAChE,KAAM,CAAC4C,aAAa,CAAEC,gBAAgB,CAAC,CAAG7C,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAC8C,kBAAkB,CAAEC,qBAAqB,CAAC,CAAG/C,QAAQ,CAAC,EAAE,CAAC,CAChE,KAAM,CAACgD,WAAW,CAAEC,cAAc,CAAC,CAAGjD,QAAQ,CAAgB,IAAI,CAAC,CACnE,KAAM,CAACkD,cAAc,CAAEC,iBAAiB,CAAC,CAAGnD,QAAQ,CAAgB,IAAI,CAAC,CAEzE,KAAM,CAACoD,SAAS,CAAEC,YAAY,CAAC,CAAGrD,QAAQ,CAAC,OAAO,CAAC,CAEnDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuD,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC9C,GAAIF,KAAK,CAAE,CACT,KAAM,CAAAG,YAAY,CAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC1D/C,SAAS,CAAC2C,YAAY,CAAC5C,MAAM,CAAC,CAC9BiD,QAAQ,CAACC,KAAK,kBAAAC,MAAA,CAAoBP,YAAY,CAAC5C,MAAM,CAAE,CAEvD;AACAoD,KAAK,IAAAD,MAAA,CAAI9D,YAAY,kBAAiB,CACpCgE,OAAO,CAAE,CACPC,aAAa,WAAAH,MAAA,CAAYV,KAAK,CAChC,CACF,CAAC,CAAC,CACCc,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,EAAI,CACZ,GAAI,CAACA,IAAI,CAACxD,OAAO,CAAE,CACjBc,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,IAAM,CACLb,UAAU,CAAC,IAAI,CAAC,CAEhB;AACAiD,KAAK,IAAAD,MAAA,CAAI9D,YAAY,gBAAe,CAClCgE,OAAO,CAAE,CACPC,aAAa,WAAAH,MAAA,CAAYV,KAAK,CAChC,CACF,CAAC,CAAC,CACCc,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACI,SAAS,EAAI,CACjBtD,SAAS,CAACsD,SAAS,CAAC,CACtB,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CACDD,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpD7C,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAAC,CACN,CAAC,IAAM,CACLiC,QAAQ,CAACC,KAAK,CAAG,OAAO,CACxBlC,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd9B,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuD,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC9C,GAAIF,KAAK,CAAE,CACTqB,OAAO,CAACC,GAAG,CAAC,uBAAuB,IAAAZ,MAAA,CAAK9D,YAAY,eAAa,CAAC,CAClE;AACA+D,KAAK,IAAAD,MAAA,CAAI9D,YAAY,gBAAe,CAClCgE,OAAO,CAAE,CACPC,aAAa,WAAAH,MAAA,CAAYV,KAAK,CAChC,CACF,CAAC,CAAC,CACCc,IAAI,CAACC,QAAQ,EAAI,CAChBM,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEP,QAAQ,CAACQ,MAAM,CAAC,CAChDF,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEP,QAAQ,CAACH,OAAO,CAAC,CAClDS,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEP,QAAQ,CAACS,GAAG,CAAC,CAC1CH,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEP,QAAQ,CAACU,IAAI,CAAC,CAC5CJ,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEP,QAAQ,CAACW,IAAI,CAAC,CAC5C,MAAO,CAAAX,QAAQ,CAACC,IAAI,CAAC,CAAC,CACxB,CAAC,CAAC,CACDF,IAAI,CAAEI,SAAkB,EAAK,CAC5BG,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEJ,SAAS,CAAC,CACtCtD,SAAS,CAACsD,SAAS,CAAC,CAEpB;AACAP,KAAK,IAAAD,MAAA,CAAI9D,YAAY,iBAAgB,CACnCgE,OAAO,CAAE,CACPC,aAAa,WAAAH,MAAA,CAAYV,KAAK,CAChC,CACF,CAAC,CAAC,CACCc,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACa,UAAU,EAAI,CAClB;AACA,KAAM,CAAAC,aAAa,CAAGD,UAAU,CAACE,MAAM,CAAEC,MAAY,EACnD,CAACZ,SAAS,CAACa,IAAI,CAAEC,KAAY,EAAKA,KAAK,CAACC,OAAO,GAAKH,MAAM,CAACG,OAAO,CACpE,CAAC,CACDxD,QAAQ,CAACmD,aAAa,CAAC,CACzB,CAAC,CAAC,CACDT,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CAAC,CAAC,CACN,CAAC,CAAC,CACDD,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CAAC,CAAC,CAEJ;AACAT,KAAK,IAAAD,MAAA,CAAI9D,YAAY,6BAA4B,CAC/CgE,OAAO,CAAE,CACPC,aAAa,WAAAH,MAAA,CAAYV,KAAK,CAChC,CACF,CAAC,CAAC,CACCc,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACoB,QAAQ,EAAI,CAChB,KAAM,CAAAC,YAAY,CAAGD,QAAQ,CAACE,MAAM,CAAC,CAACC,GAAQ,CAAEC,IAAS,GAAK,CAC5D,KAAM,CAAAC,YAAY,CAAGF,GAAG,CAACG,IAAI,CAAEC,CAAM,EAAKA,CAAC,CAACC,OAAO,GAAKJ,IAAI,CAACI,OAAO,CAAC,CACrE,GAAIH,YAAY,CAAE,CAChB,GAAID,IAAI,CAACK,UAAU,CAAE,CACnBJ,YAAY,CAACK,QAAQ,CAACC,IAAI,CAAC,CACzBZ,OAAO,CAAEK,IAAI,CAACK,UAAU,CACxBG,IAAI,CAAER,IAAI,CAACS,YAAY,CACvBC,SAAS,CAAEV,IAAI,CAACW,iBAAiB,CACjCP,OAAO,CAAEJ,IAAI,CAACI,OAChB,CAAC,CAAC,CACJ,CACF,CAAC,IAAM,CACLL,GAAG,CAACQ,IAAI,CAAC,CACPH,OAAO,CAAEJ,IAAI,CAACI,OAAO,CACrBJ,IAAI,CAAEA,IAAI,CAACA,IAAI,CACfM,QAAQ,CAAEN,IAAI,CAACK,UAAU,CAAG,CAC1B,CACEV,OAAO,CAAEK,IAAI,CAACK,UAAU,CACxBG,IAAI,CAAER,IAAI,CAACS,YAAY,CACvBC,SAAS,CAAEV,IAAI,CAACW,iBAAiB,CACjCP,OAAO,CAAEJ,IAAI,CAACI,OAChB,CAAC,CACF,CAAG,EACN,CAAC,CAAC,CACJ,CACA,MAAO,CAAAL,GAAG,CACZ,CAAC,CAAE,EAAE,CAAC,CACNxD,QAAQ,CAACsD,YAAY,CAAC,CACxB,CAAC,CAAC,CACDhB,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,CAAEA,KAAK,CAAC,CAC7D,CAAC,CAAC,CAEJ;AACAT,KAAK,IAAAD,MAAA,CAAI9D,YAAY,sBAAqB,CACxCgE,OAAO,CAAE,CACPC,aAAa,WAAAH,MAAA,CAAYV,KAAK,CAChC,CACF,CAAC,CAAC,CACCc,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACoC,UAAU,EAAI,CAClB7D,cAAc,CAAC6D,UAAU,CAAC,CAC5B,CAAC,CAAC,CACD/B,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CAAC,CAAC,CAEJ;AACAT,KAAK,IAAAD,MAAA,CAAI9D,YAAY,kBAAiB,CACpCgE,OAAO,CAAE,CACPC,aAAa,WAAAH,MAAA,CAAYV,KAAK,CAChC,CACF,CAAC,CAAC,CACCc,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACqC,WAAW,EAAI,CACnBrF,WAAW,CAACqF,WAAW,CAAC,CAC1B,CAAC,CAAC,CACDhC,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CAAC,CAAC,CAEJ;AACAT,KAAK,IAAAD,MAAA,CAAI9D,YAAY,uBAAsB,CACzCgE,OAAO,CAAE,CACPC,aAAa,WAAAH,MAAA,CAAYV,KAAK,CAChC,CACF,CAAC,CAAC,CACCc,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACsC,QAAQ,EAAI,CAChB,KAAM,CAAAC,QAAQ,CAAGD,QAAQ,CAAChB,MAAM,CAAC,CAACC,GAA6B,CAAEZ,IAAS,GAAK,CAC7EY,GAAG,CAACZ,IAAI,CAAC6B,eAAe,CAAC,CAAG7B,IAAI,CAACA,IAAI,CACrC,MAAO,CAAAY,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CACNrE,eAAe,CAACqF,QAAQ,CAAC,CAC3B,CAAC,CAAC,CACDlC,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CAAC,CAAC,CACN,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAAC3D,OAAO,CAAE,CACZ,MAAO,KAAI,CACb,CAEA,mBACEN,KAAA,QAAKoG,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BrG,KAAA,OAAAqG,QAAA,EAAI,qBAAmB,CAACjG,MAAM,EAAK,CAAC,cACpCF,IAAA,MAAAmG,QAAA,CAAG,8EAA4E,CAAG,CAAC,cAEnFrG,KAAA,QAAKoG,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnG,IAAA,WACEkG,SAAS,CAAEzD,SAAS,GAAK,OAAO,CAAG,QAAQ,CAAG,EAAG,CACjD2D,OAAO,CAAEA,CAAA,GAAM1D,YAAY,CAAC,OAAO,CAAE,CAAAyD,QAAA,CACtC,eAED,CAAQ,CAAC,cACTnG,IAAA,WACEkG,SAAS,CAAEzD,SAAS,GAAK,OAAO,CAAG,QAAQ,CAAG,EAAG,CACjD2D,OAAO,CAAEA,CAAA,GAAM1D,YAAY,CAAC,OAAO,CAAE,CAAAyD,QAAA,CACtC,cAED,CAAQ,CAAC,cACTnG,IAAA,WACEkG,SAAS,CAAEzD,SAAS,GAAK,cAAc,CAAG,QAAQ,CAAG,EAAG,CACxD2D,OAAO,CAAEA,CAAA,GAAM1D,YAAY,CAAC,cAAc,CAAE,CAAAyD,QAAA,CAC7C,qBAED,CAAQ,CAAC,cACTnG,IAAA,WACEkG,SAAS,CAAEzD,SAAS,GAAK,UAAU,CAAG,QAAQ,CAAG,EAAG,CACpD2D,OAAO,CAAEA,CAAA,GAAM1D,YAAY,CAAC,UAAU,CAAE,CAAAyD,QAAA,CACzC,iBAED,CAAQ,CAAC,cACTnG,IAAA,WACEkG,SAAS,CAAEzD,SAAS,GAAK,eAAe,CAAG,QAAQ,CAAG,EAAG,CACzD2D,OAAO,CAAEA,CAAA,GAAM1D,YAAY,CAAC,eAAe,CAAE,CAAAyD,QAAA,CAC9C,sBAED,CAAQ,CAAC,EACN,CAAC,cAENrG,KAAA,QAAKoG,SAAS,CAAC,eAAe,CAAAC,QAAA,EAC3B1D,SAAS,GAAK,OAAO,eACpBzC,IAAA,CAACR,gBAAgB,EACfU,MAAM,CAAEA,MAAO,CACfI,MAAM,CAAEA,MAAO,CACfC,SAAS,CAAEA,SAAU,CACrBY,KAAK,CAAEA,KAAM,CACbC,QAAQ,CAAEA,QAAS,CACnBC,cAAc,CAAEA,cAAe,CAC/BC,iBAAiB,CAAEA,iBAAkB,CACtC,CACF,CACAmB,SAAS,GAAK,OAAO,eACpBzC,IAAA,CAACP,gBAAgB,EACf8B,KAAK,CAAEA,KAAM,CACbC,QAAQ,CAAEA,QAAS,CACnBL,KAAK,CAAEA,KAAM,CACbQ,kBAAkB,CAAEA,kBAAmB,CACvCC,qBAAqB,CAAEA,qBAAsB,CAC7CH,WAAW,CAAEA,WAAY,CACzBC,cAAc,CAAEA,cAAe,CAChC,CACF,CACAe,SAAS,GAAK,cAAc,eAC3BzC,IAAA,CAACN,sBAAsB,EACrBqC,WAAW,CAAEA,WAAY,CACzBC,cAAc,CAAEA,cAAe,CAC/BT,KAAK,CAAEA,KAAM,CACbU,aAAa,CAAEA,aAAc,CAC7BC,gBAAgB,CAAEA,gBAAiB,CACnCC,kBAAkB,CAAEA,kBAAmB,CACvCC,qBAAqB,CAAEA,qBAAsB,CAC7CC,WAAW,CAAEA,WAAY,CACzBC,cAAc,CAAEA,cAAe,CAC/BC,cAAc,CAAEA,cAAe,CAC/BC,iBAAiB,CAAEA,iBAAkB,CACtC,CACF,CACAC,SAAS,GAAK,UAAU,eACvBzC,IAAA,CAACL,mBAAmB,EAClBa,QAAQ,CAAEA,QAAS,CACnBC,WAAW,CAAEA,WAAY,CACzBC,YAAY,CAAEA,YAAa,CAC3BI,UAAU,CAAEA,UAAW,CACvBC,aAAa,CAAEA,aAAc,CAC7BH,mBAAmB,CAAEA,mBAAoB,CACzCC,sBAAsB,CAAEA,sBAAuB,CAChD,CACF,CACA4B,SAAS,GAAK,eAAe,eAC5BzC,IAAA,CAACJ,uBAAuB,EACtBc,YAAY,CAAEA,YAAa,CAC3BC,eAAe,CAAEA,eAAgB,CACjCK,cAAc,CAAEA,cAAe,CAC/BC,iBAAiB,CAAEA,iBAAkB,CACtC,CACF,EACE,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAhB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}